{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../src/utils.ts"],"names":[],"mappings":";;AAAA,iCAAmC;AAMnC,uBAA8B,MAAW;IACvC,IAAG,OAAO,MAAM,KAAK,QAAQ,EAAE;QAC7B,OAAO,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;KACvC;SAAM,IAAI,OAAO,MAAM,KAAK,UAAU,EAAE;QACvC,OAAO,MAAM,EAAE,CAAC;KACjB;SAAM,IAAI,MAAM,CAAC,UAAU,KAAK,IAAI,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;QACzD,OAAO,aAAa,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;KACtC;SAAM;QACL,OAAO,MAAM,CAAC;KACf;AACH,CAAC;AAVD,sCAUC;AAED,oBAA2B,MAAW;IACpC,IAAM,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC;IAChD,OAAO;QACL,QAAQ,UAAA;QACR,IAAI,EAAE,IAAI,OAAO,CAAE,UAAC,GAAG,EAAE,GAAG,IAAK,OAAA,QAAQ,CAAC,GAAG,CAAC,UAAC,GAAG,EAAE,KAAK,IAAK,OAAA,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,EAA3B,CAA2B,CAAC,EAAzD,CAAyD,CAAE;KAC7F,CAAA;AACH,CAAC;AAND,gCAMC","sourcesContent":["import * as webpack from 'webpack';\n\nexport type Compiler = webpack.compiler.Compiler;\nexport type Stats = webpack.compiler.Stats;\n\n\nexport function resolveConfig(config: any): any {\n  if(typeof config === 'string') {\n    return resolveConfig(require(config));\n  } else if (typeof config === 'function') {\n    return config();\n  } else if (config.__esModule === true && !!config.default) {\n    return resolveConfig(config.default);\n  } else {\n    return config;\n  }\n}\n\nexport function runWebpack(config: any): { compiler: Compiler, done: Promise<Stats> } {\n  const compiler = webpack(resolveConfig(config));\n  return {\n    compiler,\n    done: new Promise( (RSV, RJT) => compiler.run((err, stats) => err ? RJT(err) : RSV(stats)) )\n  }\n}\n"]}